(model1)=

# 模块一：Python 语言基础

---

# 1.1 项目一：无人机"飞行日志小助手"——Python语言概述、环境搭建和运行方式

**项目简介**

> 无人机在训练或巡检中会产生大量“飞行日志信息”，例如起飞时间、飞行时长、飞行距离、平均速度、电池电量等。为了让你快速进入学习状态，本项目只做一个**最小可运行程序**：用固定的“飞行时长（分钟）”“飞行距离（米）”完成单位换算与平均速度计算，并输出一条清晰的“飞行简报”，同时体验同一程序的三种运行方式。

**项目定位**

> 本项目定位为“入门起跑线”，不追求功能复杂，核心目标是**把 Python 跑起来**并建立最基本的开发体验——完成 Python/IDE 环境搭建，理解 Python 的基本特点与应用场景，掌握交互模式、命令行运行与 PyCharm 运行三种方式的差异，为后续变量、分支、循环等学习打基础。

**需求分析**

> 本项目编写脚本与学习任务需要完成以下功能：
> - 完成 **Python 安装 + 环境配置**，并在命令行完成验证
> - 完成 **PyCharm 安装**，并正确配置项目解释器（Interpreter）
> - 创建并保存 **`uav_brief.py`**脚本，实现：飞行距离（米→公里）、飞行时长（分钟→小时）、平均速度（km/h）的计算并输出飞行简报；
> - 用交互模式（REPL）、命令模式、IDE **三种方式运行同一程序**
> - 完成 AI 辅助活动：用“原因→验证→修复”的方式让 AI 协助排障与指导

**项目代码**

```python
# uav_brief.py
# 项目一：无人机飞行简报（最小可运行版本）

# 初学者注意：变量名要见名知义，使用下划线分隔单词
flight_minutes = 18          # 飞行时长：分钟
flight_distance_m = 3600     # 飞行距离：米

# 单位换算：米→公里，分钟→小时
distance_km = flight_distance_m / 1000  # 除以1000将米转换为公里
hours = flight_minutes / 60              # 除以60将分钟转换为小时
avg_speed = distance_km / hours          # 速度 = 距离 ÷ 时间

# 初学者注意：print() 函数用于输出信息到屏幕
print("=== UAV 飞行简报 ===")
print("飞行时长(分钟)：", flight_minutes)
print("飞行距离(公里)：", distance_km)
print("平均速度(km/h)：", avg_speed)
print("状态：正常返航，日志已生成。")
```

:::{admonition} 运行检查点
:class: important
运行输出中至少应出现：

- 交互模式（REPL）中计算 `avg_speed` 的输出结果要能看到数值
- 命令行运行 `python uav_brief.py` 的完整“UAV 飞行简报”输出要包含时长/距离/平均速度/状态
- PyCharm 运行同一脚本的输出要与命令行结果一致
- 修改 `flight_minutes` 与 `flight_distance_m` 后再次运行的输出
  :::

# 1.1.1 任务一：Python概述

Python 是一种**解释型、面向对象、跨平台**的高级编程语言。它强调“可读性”和“开发效率”，非常适合入门学习、工程开发、数据处理与人工智能。

**1.Python语言的特点**

Python 语言之所以能够迅速发展，受到程序员的青睐，与其具有的特点密不可分，具体如表1-1所示：

<p align="center"><strong>表1-1 Python语言的特点</strong></p>

| 特点     | 解释                             | 对初学者的好处     |
| -------- | -------------------------------- | ------------------ |
| 语法简洁 | 更接近自然语言的写法             | 更容易读懂、上手快 |
| 解释执行 | 写完马上能运行，不必先编译       | 试错成本低         |
| 跨平台   | Windows / macOS / Linux 都能跑   | 学一套到处用       |
| 生态强大 | 第三方库非常多（AI/数据/自动化） | 能快速做项目       |
| 可扩展   | 能与C/C++等结合                  | 性能需求高时可优化 |

**2.Python版本**

Python 目前主要有Python 2 和 Python 3两个版本系列，Python 2 属于较早的版本体系，Python 3 是在其基础上发展起来的新版本体系。随着技术与应用的发展，Python 3 在语法规范、标准库以及对新技术的支持方面更完善，已经成为当前学习与开发的主流选择，后面的教学与实践默认采用 **Python 3** 版本进行学习与上机实验。

**3.Python的应用领域**

作为一门功能强大且简单易学的编程语言，其应用涉及到各种领域，具体如表1-2所示：

<p align="center"><strong>表1-2 Python应用领域</strong></p>

| 应用领域           | 业务应用                       | 常见库/框架                           |
| ------------------ | ------------------------------ | ------------------------------------- |
| Web 开发           | 用 Python 搭网站与接口服务     | Django、Flask、Tornado、Web2py        |
| 科学计算与数据分析 | 用 Python 做计算、统计、可视化 | NumPy、SciPy、Matplotlib              |
| 自动化运维         | 用脚本批量管理系统与设备       | 标准库、pywin32、IronPython（可扩展） |
| 网络爬虫           | 自动从网页抓取数据             | urllib、requests、Scrapy、pyspider    |
| 游戏开发           | 用 Python 快速写逻辑与原型     | Pygame（2D）                          |
| 人工智能           | 用 Python 训练与调用 AI 模型   | TensorFlow（神经网络框架）            |

# 1.1.2 任务二：Python开发环境搭建

搭建开发环境，就是把“能运行 Python”与“能高效写 Python”两件事一次性准备好。本节以 Windows平台 为例，介绍 **Python 安装与配置**以及 **PyCharm 安装与配置**，确保后续项目代码都能稳定运行。

**1.Python 安装与配置**

**Python 安装步骤**

- 进入 Python 官网下载安装包（Windows x86-64 installer）
- 双击安装程序后，**第一步务必勾选**：`Add python.exe to PATH`
- 选择 `Install Now`（初学者推荐）或 `Customize installation`（可自定义安装路径）
- 安装完成后关闭窗口

:::{admonition} 安装关键点
:class: tip
安装界面左下角的 **Add python.exe to PATH** 一定要勾选，否则后面在命令行输入 `python` 会提示“不是内部或外部命令”。
:::

**Python 安装验证**

按 Win + R 输入 `cmd` 或打开 **PowerShell**，进入 **命令提示符**，输入 `python --version` 若能看到类似输出 `Python 3.12.1`，说明 Python 安装成功。

**pip 安装验证**

pip 是 python 包管理工具，在命令提示符界面继续输入 `pip --version`，若输出包含 pip 版本与路径，说明 pip 安装成功。

**PATH 环境变量**

* **PATH** 是 Windows 用来“找程序”的搜索路径
* 把 Python 加入 PATH，就可以在任何目录直接输入 `python` / `pip`
* 否则只能去安装目录手动找解释器，非常不方便

:::{admonition} 常见问题：python 不是内部或外部命令
:class: important
通常是因为安装时没有勾选 `Add python.exe to PATH`。解决思路：

**方法一：重新安装（推荐）**
- 重新运行安装程序 → 选择 Modify → 勾选 Add to PATH → 完成后**重启命令行**再测试

**方法二：手动添加环境变量**
- 找到 Python 安装路径（通常在 `C:\Users\你的用户名\AppData\Local\Programs\Python\Python3xx`）
- 打开"系统属性" → "高级" → "环境变量"
- 在"系统变量"中找到 `Path`，点击"编辑"
- 添加两个路径：
  - Python 主目录（如 `C:\...\Python312`）
  - Scripts 目录（如 `C:\...\Python312\Scripts`）
- 确认保存 → **必须重启命令行**（或重启电脑）→ 再次测试

**验证步骤：**
1. 关闭所有命令行窗口
2. 重新打开命令行
3. 输入 `python --version` 和 `pip --version`
4. 都能正常显示版本号即成功

**补充说明：**
- Windows 用户也可以使用 `py` 命令代替 `python`（Python 启动器）
- 如果电脑安装了多个 Python 版本，`py -3.12` 可以指定版本
  :::

**2.PyCharm 安装与配置**

**PyCharm 安装步骤**

- 进入 JetBrains 官网下载 PyCharm（Community 版即可满足学习要求）
- 双击安装程序，按默认流程安装
- 建议勾选（可选但推荐）：

  - `Create Desktop Shortcut`（创建桌面快捷方式）
  - `Add "Open Folder as Project"`（右键打开项目更方便）

:::{admonition} 版本选择建议
:class: tip
学习建议使用 **PyCharm Community（社区版）**：免费、够用、安装简单。
专业版功能更多，但对初学者不是必须。
:::

**解释器（Interpreter）**

PyCharm 第一次启动的关键就是配置解释器，PyCharm 写代码并不是“自己运行”，它需要指定**用哪一个 Python 来运行**，这个 Python 就叫 **解释器**。

**配置解释器的基本步骤**

- 打开 PyCharm → `New Project`（新建项目）
- 在右侧找到 **Python Interpreter**
- 推荐选择 `New Virtualenv environment`（自动创建虚拟环境，避免污染系统 Python）
- Base interpreter 选择你安装的 Python（如 `Python 3.12`）
- 创建项目并进入项目文件夹

**解释器配置测试**

- 右键项目文件夹选择新建 `python文件`文件，文件名为 `first.py`，并在里面输入 `print('Hello Python!')`
- 在 `first.py` 文件空白处右键选择运行 `first.py`

:::{admonition} 为什么推荐虚拟环境（venv）
:class: tip
虚拟环境相当于“这个项目专用的 Python 工具箱”，项目安装的库不会影响另一个项目，项目管理更稳定。
:::

:::{admonition} 【AI辅助小课堂】环境排错一句话诊断
:class: tip
将你命令行执行 `python --version`、`pip --version` 的输出发给 AI，让 AI 用一句话判断Python 是否装好？PATH 是否正常？pip 指向的是不是同一个 Python？
:::

:::{admonition} 练习：搭建你的“无人机项目工作区”
:class: important
完成以下操作并截图/记录结果：

- 在 PyCharm 新建项目 `uav_workspace`，解释器使用虚拟环境
- 创建 `check_env.py`，输出一句话 `环境OK，可以开始无人机项目`
- 在 Terminal 中执行 `pip --version`，确认 pip 可用
- 运行 `check_env.py`，能看到输出即合格
  :::

# 1.1.3 任务三：运行 Python 程序

本任务分别用三种方式运行本项目 `uav_brief.py` 并体会它们之间的差异，了解**同一段代码**在不同运行方式下如何启动、如何查看结果、遇到问题如何定位。

:::{admonition} 运行前提醒
:class: tip
先把本项目代码保存为 `uav_brief.py`，后面三种方式只是“启动方式不同”，代码内容保持一致，便于对比。
:::

**1.交互模式运行**

Python **交互模式（Interactive Mode）** 是指在命令行里直接进入 Python 解释器后，可以**一行一行输入代码并立即得到结果**的运行方式，适合快速试验语法、计算表达式、查看变量值与调试小片段代码。

- 启动：命令行输入 `python`，进入 `>>>`
- 执行表达式：直接输入表达式并回车（如 `2 + 3`）
- 退出：输入 `exit()` / `quit()`；Windows 可 `Ctrl + Z` 再回车

**交互模式实际演示：**

```python
>>> flight_minutes = 18          # 飞行时长：分钟
>>> flight_distance_m = 3600     # 飞行距离：米
>>> distance_km = flight_distance_m / 1000
>>> distance_km                  # 直接输入变量名查看结果
3.6
>>> hours = flight_minutes / 60
>>> avg_speed = distance_km / hours
>>> avg_speed
12.0
>>> print("平均速度(km/h)：", avg_speed)
平均速度(km/h)： 12.0
```

:::{admonition} 结果观察点
:class: tip
在交互模式里，最后一行直接写变量名 `avg_speed`，解释器会直接显示结果（如上面的 `12.0`），这非常适合"先验证计算对不对"，再写成完整脚本。
:::

**2.命令行模式运行**

Python 的**命令行模式运行**是指在终端/命令提示符中用 `python`（或 Windows 的 `py`）直接执行一段代码或一个 `.py` 脚本，让程序从头到尾运行并输出结果。

假设命令模式界面的当前目录有 `uav_brief.py`：

- 运行脚本：`python uav_brief.py`
- 查看版本：`python --version`

:::{admonition} 常见问题：找不到文件
:class: important
如果提示找不到 `uav_brief.py`，通常是“当前目录不对”。
解决思路：把脚本放到桌面或某个确定的文件夹 → 在该文件夹空白处按住 Shift 右键 → 选择“在此处打开 PowerShell”再运行。
:::

**3.集成环境运行**

集成环境（IDE）提供“写代码、运行、调试、项目管理”的一体化体验，这里的 IDE 采用PyCharm，运行按钮、报错定位、项目结构都更直观，适合长期做项目。

在 PyCharm 中：

- New Project（新建项目）
- 选择解释器 Interpreter（必须确认正确）
- New Python File → 创建 `uav_brief.py`
- 右键文件 → Run
- 在底部 Run 窗口查看输出

:::{admonition} 本质提醒
:class: tip
PyCharm 的“Run”本质仍然是在调用 Python 解释器运行脚本，只是把命令行输入、路径切换等细节“封装”成按钮与配置。
:::

Python 的三种运行方式各有优劣，适用于不同的场景，对比如表1-3所示。

<p align="center"><strong>表1-3 Python三种运行方式对比</strong></p>

| 方式             | 优点                     | 缺点              | 适用场景           |
| ---------------- | ------------------------ | ----------------- | ------------------ |
| 交互模式（REPL） | 反馈快、试验方便         | 不适合长程序      | 验证公式、练语法   |
| 命令模式（脚本） | 接近真实部署、批处理方便 | 路径/环境容易出错 | 跑脚本、批处理任务 |
| IDE（PyCharm）   | 管理项目方便、可调试     | 初期配置略复杂    | 长期学习与工程开发 |

:::{admonition} 【AI辅助小课堂】三种运行方式差异与报错定位
:class: tip
把你的运行方式（交互/命令/IDE）和“输出或报错全文”发给 AI，让 AI 按顺序给出：原因 → 如何验证 → 如何修复（每步一句话，最多 5 步）。
:::

:::{admonition} 练习：飞行简报改数据
:class: important
只改变量值，不改公式：

- 把 `flight_minutes` 改为 25
- 把 `flight_distance_m` 改为 4200
- 用三种方式分别运行
- 记录输出中的平均速度（km/h）
  :::

## 1.1.4 常见错误与调试技巧

:::{admonition} 常见错误速查表
:class: warning

**错误类型一：NameError**
```python
# 错误示例
print(avg_sped)  # 变量名拼写错误
# NameError: name 'avg_sped' is not defined

# 解决方法：检查变量名拼写，确保先定义后使用
```

**错误类型二：SyntaxError**
```python
# 错误示例
print("飞行时长"  # 缺少右括号
# SyntaxError: unexpected EOF while parsing

# 解决方法：检查括号、引号是否配对
```

**错误类型三：ZeroDivisionError**
```python
# 错误示例
hours = 0
avg_speed = distance_km / hours
# ZeroDivisionError: division by zero

# 解决方法：使用前检查除数是否为0
```

**调试技巧：**
1. 看错误信息最后一行，找出错误类型
2. 看错误信息中的行号，定位出错位置
3. 使用 print() 输出中间变量，检查计算过程
4. 逐行运行代码，找出第一个出错的地方
:::

## 本项目小结

本项目以脚本 uav_brief.py 为载体，用"飞行时长 + 飞行距离"的固定数据完成单位换算与平均速度计算，生成一条清晰的飞行简报，能够在最少语法下把 Python 跑通。

通过"交互模式（REPL）—命令行脚本—PyCharm 运行"三种方式对比，应能理解REPL 适合快速试算，命令行适合一次性跑脚本，IDE 适合长期项目开发，同时完成环境搭建与基本排错（版本、PATH、解释器）检查，为后续变量、分支、循环等内容建立稳定的学习与开发基础。

---

# 1.2 项目二：无人机"起飞前检查单生成器"——程序风格、变量和标识符

**项目简介**

> 无人机起飞前必须完成一套“固定检查流程”，例如电池电量是否充足、螺旋桨是否完好、GPS 卫星数是否达标、返航点是否已设置等。我们用一个“最小可运行脚本”模拟这套流程，让程序按顺序输出检查项，并生成一段检查结果简报，从而在真实情境中练习最基础、最关键的 Python 书写规范。

**项目定位**

> 本项目定位为“Python 程序书写与执行规则”训练，重点掌握程序**顺序执行**、**缩进与代码块**、**注释**、**换行输出**，以及**变量与赋值**、**标识符命名规范**、**关键字识别**等入门必备能力，为后续分支、循环与函数学习打下规范化基础。

**需求分析**

> 本项目编写脚本 `uav_precheck.py` 需要完成以下功能：
>
> - 使用变量保存无人机编号、电池电量、GPS 卫星数等“检查数据”
> - 按固定顺序依次输出检查流程（顺序执行效果明显）
> - 输出一段较长的“检查简报”，用于练习换行（`()、\` ）
> - 在代码中加入必要的注释，并采用规范命名（snake_case），避免关键字与非法标识符

**项目代码**

将下面代码保存为 `uav_precheck.py`，用你熟悉的方式运行，例如命令行或 PyCharm。

```python

# uav_precheck.py
# 项目二：无人机起飞前检查单生成器

# ===== 基本信息（固定数据，用于课堂演示）=====
UAV_ID = "UAV-07"          # 常量：按惯例用全大写（并非语法强制）
pilot_name = "Li"         # 飞手姓名（字符串）
battery_percent = 86      # 电池电量（百分比）
gps_satellites = 14       # GPS 卫星数（整数）

# 多重赋值：一次绑定多个变量
home_lat, home_lon = 28.2280, 112.9388  # 起飞点经纬度（纬度, 经度）

# 交换变量：用于演示赋值技巧（假设经纬度写反了）
home_lat, home_lon = home_lon, home_lat  # 交换经纬度位置

# ===== 顺序输出检查单（程序从上到下依次执行）=====
print("=== 无人机起飞前检查单 ===")
print("无人机编号：", UAV_ID)
print("飞手：", pilot_name)

print("1. 检查电池电量(%)：", battery_percent)
print("2. 检查GPS卫星数：", gps_satellites)
print("3. 检查返航点(经纬度)：", home_lat, home_lon)
print("4. 检查螺旋桨：无裂纹、无松动")
print("5. 检查指南针与IMU：状态正常")
print("6. 检查图传链路：信号稳定")

# ===== 使用括号实现长文本换行（推荐）=====
brief = (
    "检查结论：各项状态正常，允许起飞。"
    "建议：起飞后保持目视范围内飞行，"
    "当电量低于30%时提前返航，"
    "如风速增大请立即降低高度并返航。"
)
print("——简报——")
print(brief)

# ===== 使用反斜杠换行（不推荐，示例了解）=====
note = "提示：起飞前再次确认禁飞区与限高设置，" \
       "确保返航高度高于周边障碍物。"
print(note)

print("=== 结束：检查单已生成 ===")
```

:::{admonition} 运行检查点
:class: important
运行输出中应至少能看到：

* 能正常打印标题 “=== 无人机起飞前检查单 ===” 和结尾 “=== 结束：检查单已生成 ===”
* 无人机编号、飞手、电量、GPS、返航点等信息按 1→6 的顺序逐行输出
* 返航点经纬度的输出是交换后的结果（能看出 home_lat, home_lon = home_lon, home_lat 生效）
* “——简报——”下面能输出一段 由括号拼接的长文本（括号换行方式生效）
* 最后能输出一段 用反斜杠续行的提示文本（\ 换行方式生效）
  :::

## 1.2.1 任务一：程序顺序执行

程序顺序执行指**Python 解释器默认从第一行开始，按从上到下的顺序逐行执行**，因此输出的先后顺序就是代码书写的先后顺序。对初学者而言，最重要的直觉是**写在前面的语句先执行，写在后面的语句后执行**。

**例如：**

```python
battery_percent = 86
gps_satellites = 14
# 多重赋值：一次绑定多个变量
home_lat, home_lon = 28.2280, 112.9388
print("1. 检查电池电量(%)：", battery_percent)
print("2. 检查GPS卫星数：", gps_satellites)
print("3. 检查返航点(经纬度)：", home_lat, home_lon)
```

上述代码输出的先后顺序与书写顺序一致，输出结果为：

```
1. 检查电池电量(%)： 86
2. 检查GPS卫星数： 14
3. 检查返航点(经纬度)： 28.228 112.9388
```

:::{admonition} 【AI辅助小课堂】让AI“预测输出顺序”
:class: tip
把项目代码一小段代码发给 AI，让它先**不运行**只“预测输出顺序”，并说明理由。
要求 AI 输出两部分：按顺序写出每一行会打印什么；指出“哪一行先执行、哪一行后执行”的依据。
:::

:::{admonition} 练习：顺序执行
:class: important
请在项目代码中新增三条输出，模拟"起飞前最后三步确认"，要求严格按顺序出现：

1. 打开电机解锁
2. 缓慢推油门起飞
3. 悬停 3 秒观察姿态

**参考代码框架：**
```python
print("7. 打开电机解锁")
print("_______________")  # 补充第8步
print("_______________")  # 补充第9步
```

**检查点：** 运行后输出顺序应为 7→8→9
:::

## 1.2.2 任务二：缩进

缩进在 Python 中不是“排版美观”，而是语法的一部分，它用来标记**代码块**的范围，即哪些语句属于同一个代码块。在没有代码块的普通语句中，随意缩进会导致错误，在需要代码块的地方（后面会学到的条件、循环、函数），缩进错误会改变程序结构。
**缩进就是“把一组属于同一层级的语句对齐”，告诉 Python 哪些语句是一组**，推荐统一使用 **4 个空格**，并避免 Tab 与空格混用；同一代码块的语句必须缩进一致；不需要代码块时，不要“多缩进一层”。

**错误示例：**

```python
print("开始检查")
    print("这一行多缩进了，会触发 IndentationError")  # 不该缩进却缩进会报错
```

**正确示例：**

```python
print("开始检查")

if True:
    print("这一行属于 if 代码块，必须缩进")
    print("同一代码块内的缩进要一致")

print("代码块结束后回到原缩进层级")
```

:::{admonition} Tab与空格混用
:class: warning
初学阶段最常见的两类缩进问题：

- **Tab 与空格混用**导致“看起来对齐、实际不一致”
- 复制粘贴后出现“隐藏缩进”
- 建议在编辑器里开启“显示空白字符”或使用自动格式化
  :::

:::{admonition} 【AI辅助小课堂】让AI当“缩进体检员”
:class: tip
把你写的一段代码发给 AI，要求它检查是否存在 Tab/空格混用的风险，哪些行缩进层级不一致，给出“最小修改方案”。
:::

:::{admonition} 练习：缩进
:class: important
下面代码意图是打印"起飞检查开始/结束"，请找出并修正缩进错误，使其能运行：

```python
print("起飞检查开始")
    print("检查电池")
print("起飞检查结束")
```

**提示：**
1. 找出哪一行的缩进不正确
2. Python 在没有代码块的情况下，所有语句应该左对齐（缩进为0）
3. 修正后，三行 print 应该对齐在同一列

**检查点：** 修正后运行不应出现 IndentationError
:::

## 1.2.3 任务三：注释

注释用于解释代码“为什么这么写”，而不是重复代码“写了什么”，服务于理解代码的目标，帮助读者把代码与业务场景对应起来。

**1.单行注释（#）**

单行注释以 `#` 开头，从 `#` 到行尾都不会被执行，常用于解释某一行代码、某个变量含义或某个步骤的业务意义。

**例如：**

```python
battery_percent = 86  # 电池电量：百分比
```

这里的 “# 电池电量：百分比”就是对其前面的代码的解释，不会参与运行。

:::{admonition} 【AI辅助小课堂】让AI把“坏注释”改成“好注释”
:class: tip
给 AI 两段注释：一段是“重复代码、没有信息量”的坏注释，一段是你希望表达的业务含义。要求 AI 输出：更清晰、更专业、且不啰嗦的注释版本。
:::

**2.多行注释（文档字符串 """..."""）**

多行注释常用“文档字符串”（docstring）实现：使用三引号 `"""..."""`，通常放在文件开头，用于说明脚本用途、作者、学习目标等，它既能作为说明文字，也可被工具提取生成文档。

**例如：**

```python
"""
uav_precheck.py
项目二：无人机起飞前检查单生成器

学习目标：顺序执行、缩进、注释、换行、变量与赋值、标识符（命名）、关键字认识
"""
```

这里的三引号内的内容就是多行注释，不会参与运行。

:::{admonition} 【AI辅助小课堂】让AI生成“脚本头部说明”
:class: tip
请给 AI 提供三条信息：脚本名称、脚本功能、学习目标。
要求 AI 输出一段不超过 6 行的 docstring，风格要“简单易懂”，不写花哨口号。
:::

:::{admonition} 练习：注释
:class: important
在项目代码中为以下三处添加注释：

- 无人机编号 `UAV_ID` 的含义
- 电池电量变量的单位
- “简报”字符串的用途
  要求注释简洁，每条不超过 15 个汉字或 10 个英文单词。
  :::

## 1.2.4 任务四：换行

Python 中换行用于把一行过长的代码或文本拆成多行书写，既不影响程序执行，又能提高代码的可读性。常用两类换行方式为使用括号 `()` 的隐式换行，以及使用反斜杠 `\` 的显式换行。

**1.使用 () 实现换行**

在圆括号 `()`、方括号 `[]`、花括号 `{}` 内，Python 允许换行而不需要额外符号，这种写法更安全、更不易出错、保持缩进对齐、增强可读性，适合长字符串拼接和长表达式。

**例如：**

```python
brief = (
    "检查结论：各项状态正常，允许起飞。"
    "建议：起飞后保持目视范围内飞行，"
    "当电量低于30%时提前返航，"
    "如风速增大请立即降低高度并返航。"
)
```

这里使用 `()` 实现换行可以在不影响程序运行的情况下安全地拆分长文本，让代码更清晰易读、也更不容易出错。

**2.使用 `\` 换行**

在 Python 中可以用反斜杠 `\` 做物理换行，把一行代码拆成多行书写，表示“这一行还没写完，下一行继续”，但解释器会把它当作同一行继续执行，但是它对空格、尾部字符较敏感，维护性较差，能用括号换行时，优先括号换行。

**例如：**

```python
note = "提示：起飞前再次确认禁飞区与限高设置，" \
       "确保返航高度高于周边障碍物。"
```

这里使用 `\` 实现换行可以在不影响程序运行的情况下安全地拆分长文本。

:::{admonition} 【AI辅助小课堂】让AI“给长句排版”
:class: tip
把一段超过 80 字的长提示词发给 AI，要求它改写为括号换行形式：每行不超过 30～40 字、语义分段清晰、不改变原意。
:::

:::{admonition} 练习：换行
:class: important
请把下面这句提示语分别用两种方式换行输出：
“提示：低电量返航前先降低高度，避开高压线与树木，保持图传信号稳定。”
要求：用 `()` 方式换行、用 `\` 方式换行、两种方式输出内容一致。
:::

## 1.2.5 任务五：变量与赋值

:::{index} single: 变量
:::
:::{index} single: 赋值
:::
:::{index} single: 多重赋值
:::
:::{index} single: 交换变量
:::
:::{index} single: 常量
:::
:::{index} single: 标识符
:::
:::{index} single: 关键字
:::

变量是指在程序运行过程中可以改变值的"名字"。在 Python 里，**变量可以理解为"贴了标签的数据"**：把数据（比如 86）放在某个位置上，我们给它贴一个名字叫 `battery_percent`，以后就不用反复写 86，而是直接用这个名字来取用或计算。

常量约定为不应改变值的“名字”，在 Python 中通常用全大写命名来提示这一点，例如 `UAV_ID = "UAV-07"`。

**赋值**就是“贴标签”的动作，用 `=` 完成，如 `battery_percent = 86` 的意思不是数学里的“相等”，而是“把右边这个值交给左边这个变量名来代表”。常见的赋值形式包括：简单赋值（`x = 10`），多重赋值（`a, b = 1, 2`），交换变量（`a, b = b, a`）。

**正确示例：**

```python
battery_percent = 86
home_lat, home_lon = 28.2280, 112.9388 # 多重赋值：一次绑定多个变量
home_lat, home_lon = home_lon, home_lat # 交换变量：用于演示赋值技巧（假设经纬度写反了）
```

**错误示例：**

```python
# if = 1  # if 是关键字，不能做变量名
```

:::{admonition} 【AI辅助小课堂】让AI帮你“把变量名写得更像工程”
:class: tip
将此组变量名发给 AI（例如：a、b、c、x1、x2），并说明它们分别表示什么无人机数据。
要求 AI 输出：更清晰的变量名建议（如 battery_percent、gps_satellites），并解释改名理由（可读性/一致性/避免歧义）。
:::

:::{admonition} 练习：变量与赋值
:class: important
在项目代码中新增两个变量：`wind_level`（风力等级，整数）与 `flight_site`（场地名称，字符串），并在检查单中新增两条输出。
要求：变量名必须见名知意，输出顺序保持在“基本信息”之后、“检查项”之前。
:::

## 1.2.6 任务六：标识符与关键字

标识符是程序员为变量、函数、类等“起的名字”，好的命名能让代码像说明书一样易读，糟糕的命名会让程序难以维护，本任务分为命名规则、命名规范与关键字认识三部分。

**1.标识符命名规则**

标识符命名需要满足基本规则：由字母、数字、下划线组成，不能以数字开头；区分大小写；不能与关键字冲突。

**正确示例**

```python
uav_id = "UAV-07"
battery_percent = 86
_home_point = "A-01"
```

**错误示例**

```python
# 1uav = "UAV-07"     # 不能以数字开头
# battery-percent = 86 # 不能包含连字符 -
# for = 3             # 关键字不能作为标识符
```

:::{admonition} 【AI辅助小课堂】让AI做"标识符解释"
:class: tip
让 AI 输出正确的标识符5个，错误的标识符5个并说明违反了哪条规则。
:::

:::{admonition} 练习：标识符命名规则
:class: important
下面这些名称哪些可以作为变量名？哪些不可以？请写出原因，并把不合规的改成合规版本：
`gps_satellites` 、`UAV-ID` 、`2home` 、`pilotName` 、`with`
:::

**2.标识符命名规范**

命名规范强调“好读、好用、少歧义”，建议统一采用下划线命名法（snake_case），即变量名用小写字母与下划线、常量用全大写、避免中文拼音混写与过度缩写。

**例如：**

```python
# 推荐（清晰）
battery_percent = 86
gps_satellites = 14

# 不推荐（可读性差、歧义大）
bp = 86
g = 14
```

上面 `battery_percent`、`gps_satellites` 命名规范，做到见名知义，而 `bp`、`g` 可读性很差。

:::{tip}
代码尽量做到“读代码就像读说明书”，变量名应体现单位或含义（percent/satellites），避免 a、b、x 这类无语义命名。
:::

:::{admonition} 【AI辅助小课堂】让AI“统一风格”
:class: tip
把一段变量命名风格混乱的代码发给 AI，要求它只做两件事：统一为 snake_case、把常量改成全大写命名。
要求：不改变逻辑，只改命名，并给出改名映射表。
:::

:::{admonition} 练习：命名规范
:class: important
请把下面变量名改得更规范，并说明理由：

- `a` 表示电池电量
- `GPSNum` 表示卫星数
- `siteName` 表示起飞点名称
- `uavID` 表示无人机编号
  :::

**3.关键字（保留字）**

关键字是 Python 语言内部使用的“保留词”，不能作为标识符使用。
不同版本的 Python 关键字可能会随语言演进略有变化，因此最可靠的方式是用标准库 `keyword` 模块查看当前解释器的关键字列表，查看代码如下：

```python
import keyword

print("keywords =", keyword.kwlist)
print("soft keywords =", keyword.softkwlist)
```

常见关键字释义表如表1-4所示：

<p align="center"><strong>表1-4 Python关键字释义表</strong></p>

| 关键字                                         | 含义                                  |
| ---------------------------------------------- | ------------------------------------- |
| `False` / `True`                           | 布尔值：假 / 真                       |
| `None`                                       | 空值（无、未设置）                    |
| `and` / `or` / `not`                     | 逻辑与 / 或 / 非                      |
| `if` / `elif` / `else`                   | 条件判断（后续章节详讲）              |
| `for` / `while`                            | 循环结构（后续章节详讲）              |
| `break` / `continue`                       | 循环控制：跳出 / 继续（后续章节详讲） |
| `def` / `return`                           | 函数定义 / 返回值（后续章节详讲）     |
| `class`                                      | 类定义（后续章节详讲）                |
| `try` / `except` / `finally` / `raise` | 异常处理（后续章节详讲）              |
| `import` / `from` / `as`                 | 模块导入与别名                        |
| `with`                                       | 上下文管理（后续章节详讲）            |
| `lambda`                                     | 匿名函数（后续章节详讲）              |
| `global` / `nonlocal`                      | 作用域声明（进阶内容）                |
| `pass`                                       | 占位语句                              |
| `del`                                        | 删除引用（进阶理解）                  |
| `is` / `in`                                | 身份判断 / 成员判断                   |
| `async` / `await`                          | 异步编程（扩展内容）                  |
| `yield`                                      | 生成器产出（扩展内容）                |
| `assert`                                     | 断言（调试用）                        |

:::{important}
关键字不能当变量名使用，软关键字（如 `match`、`case`、`type`、`_`）只在特定语法场景下作为关键字生效。初学阶段只需记住**尽量不要用这些词做变量名**。
:::

:::{admonition} 【AI辅助小课堂】关键字“避坑清单”
:class: tip
让 AI 根据你正在写的无人机项目，给出一个“变量命名避坑清单”：

- 列出 10 个最容易误用为变量名的关键字（如 `type`、`list` 这类词）
- 给出替代命名建议（如 `data_type`、`sensor_list`）
  :::

:::{admonition} 练习：关键字与标识符
:class: important
下面哪些名字绝对不建议作为变量名？请说明原因，并给出替代命名：
`type`、`with`、`class`、`match`、`in`
提示：先运行 `keyword.kwlist` 与 `keyword.softkwlist` 自查，再作答。
:::

## 本项目小结

通过“无人机起飞前检查单生成器”，你已经把代码从“能运行”推进到“更像工程”：理解了程序顺序执行，掌握了 Python 缩进的语法意义，能够用注释解释代码意图，能用两种方式控制换行排版，能正确使用变量与赋值技巧，并建立了对标识符命名与关键字约束的基本认知。后续章节学习输入、分支与循环时，本项目代码可以直接扩展为“可交互的检查脚本”。

---

# 1.3 项目三：无人机"飞行数据工具包"——基本数据类型与容器结构

**项目简介**

> 在无人机飞行、巡检与训练过程中，会持续产生多种类型的数据：电池电量、飞行高度、经纬度坐标、姿态角度、飞手姓名、任务编号、传感器列表以及告警码等。如果这些数据全部混在一起使用，不仅程序难以阅读，也不利于后续分析和维护。本项目以“飞行数据工具包”为情境，在真实业务背景中学习 Python 的基本数据类型，理解不同的数据，应该用不同的方式来存储和管理。

**项目定位**

> 本项目定位为“Python 基本数据类型应用训练”：重点掌握数字类型、字符串、列表、元组、字典和集合的基本表示方法与使用场景，理解它们在无人机飞行数据表达中的作用，为后续学习流程控制、函数与面向对象打下数据基础。

**需求分析**

> 本项目编写脚本 `uav_data_kit.py` 需要完成以下功能：
>
> - 使用数字类型表示无人机的电池电量、飞行高度、姿态角度以及是否解锁等状态数据；
> - 使用字符串表示无人机编号和任务编号，并通过索引与切片提取其中的关键信息；
> - 使用列表保存传感器清单和飞行高度采样序列，通过索引与切片获取局部数据；
> - 使用元组保存经纬度坐标，体现其不可变特性，适合作为固定记录；
> - 使用字典组织飞行状态与关键参数，实现按键取值；
> - 使用集合对告警码进行去重处理，得到唯一告警集合。

**项目代码**

将下面代码保存为 `uav_data_kit.py`，用你熟悉的方式运行，例如命令行或 PyCharm。

```python

# uav_data_kit.py
# 项目三：无人机飞行数据工具包（常用数据类型演示）

# ========= 数字类型 =========
battery_percent = 86                 # int：电池电量（百分比）
altitude_m = 52.5                    # float：高度（米）
yaw_deg = 135.0                      # float：偏航角（度）
imu_bias = 0.03 + 0.02j              # complex：复数（了解即可，初学可跳过）
is_armed = True                      # bool：是否解锁

# ========= 字符串 =========
uav_id = "UAV-07"
mission_id = "MIS-20251221-A03"

# ========= 列表 =========
sensors = ["GPS", "IMU", "Barometer", "Camera"]
alt_samples = [50.2, 51.0, 52.5, 52.2, 51.8]  # 高度采样序列（米）

# ========= 元组 =========
home_point = (28.2280, 112.9388)    # (lat, lon)

# ========= 字典 =========
status = {
    "uav_id": uav_id,
    "battery_percent": battery_percent,
    "altitude_m": altitude_m,
    "yaw_deg": yaw_deg,
    "is_armed": is_armed,
    "home_point": home_point,
    "sensors": sensors
}

# ========= 集合 =========
alarm_codes = ["LOW_BAT", "GPS_WEAK", "LOW_BAT", "IMU_WARN"]
unique_alarms = set(alarm_codes)

print("=== 无人机飞行数据工具包 ===")
print("电量(%) =", battery_percent, "| 高度(m) =", altitude_m, "| 偏航角(deg) =", yaw_deg)
print("IMU偏差(复数示例) =", imu_bias, "| 是否解锁 =", is_armed)

print("无人机编号 =", uav_id)
print("任务编号 =", mission_id)

print("传感器清单 =", sensors)
print("第1个传感器 =", sensors[0])

print("高度采样序列 =", alt_samples)
print("最近3次高度采样 =", alt_samples[-3:])

print("返航点(纬度,经度) =", home_point)

print("字典取值：电池电量 =", status["battery_percent"])
print("字典取值：返航点 =", status["home_point"])

print("告警码(原始) =", alarm_codes)
print("告警码(去重集合) =", unique_alarms)
```

:::{admonition} 运行检查点
:class: important
运行输出中应至少能看到：

* “=== 无人机飞行数据工具包 ===” 标题正常打印，且数值行能同时输出电量/高度/偏航角，并显示布尔值 `True`（数字类型与 bool 输出正常）
* 能看到 “IMU偏差(复数示例) = …j” 形式的输出（`complex` 复数类型展示正常）
* 字符串 “无人机编号 = UAV-07”“任务编号 = MIS-20251221-A03” 正常打印（字符串保存与输出正常）
* 列表 “传感器清单” 能完整打印，且 “第1个传感器 = GPS” 正确取到 `sensors[0]`（列表索引取值正常）
* 列表切片 “最近3次高度采样 = [...]” 输出为最后 3 个采样值（`alt_samples[-3:]` 切片正常）
* 元组返航点 “返航点(纬度,经度) = (28.228, 112.9388)” 正常打印（元组记录固定坐标正常）
* 字典取值能正确打印 “电池电量 = 86” 与 “返航点 = (28.228, 112.9388)”（按键取值 `status[...]` 正常）
* 告警码原始列表包含重复项（如 `LOW_BAT` 出现两次），而去重后的集合 `unique_alarms` 只保留唯一告警（体现集合去重特性，且集合输出顺序不固定属正常现象）
  :::

## 1.3.1 任务一：数字类型

:::{index} single: 整型 (int)
:::
:::{index} single: 浮点型 (float)
:::
:::{index} single: 复数 (complex)
:::
:::{index} single: 布尔型 (bool)
:::

Python 的数字类型用来表示各种"可计算"的数值，布尔类型是一种特定的数字类型。
数字类型可用于表示无人机的各种"可计算数据"，例如电量百分比、飞行高度、速度、姿态角、传感器偏差等。布尔类型用于表示"是/否"状态，例如是否解锁、是否返航、是否超限等。

数字类型包括整型、浮点型、复数类型和布尔类型，如表1-5所示：

<p align="center"><strong>表1-5 数字类型一览表</strong></p>

| 数字类型    | 描述                                                                                      | 简单示例                    |
| ----------- | ----------------------------------------------------------------------------------------- | --------------------------- |
| `int`     | 表示没有小数部分的整数，如电量 86%                                                        | `battery_percent = 86`    |
| `float`   | 表示带小数的数，如高度 52.5 米                                                            | `altitude_m = 52.5`       |
| `complex` | 由实部与虚部组成，用 `a + bj` 表示；用于科学计算（初学阶段了解即可，实际应用较少）     | `imu_bias = 0.03 + 0.02j` |
| `bool`    | 只有两个值：`True` 与 `False`，用于开关量或判断状态                                   | `is_armed = True`         |

**例如：**

```python

battery_percent = 86                 # int：电池电量（百分比）
altitude_m = 52.5                    # float：高度（米）
yaw_deg = 135.0                      # float：偏航角（度）
imu_bias = 0.03 + 0.02j              # complex：复数（示例：把偏差写成复数）
is_armed = True                      # bool：是否解锁
```

上述示例中演示了整型、浮点型、复数类型和布尔类型的赋值。

:::{admonition} 【AI辅助小课堂】数字类型识别与纠错
:class: tip
把一组无人机数据写成 Python 赋值语句发给 AI（例如电量、高度、偏航角、是否解锁），要求 AI 完成两件事：判断每个变量对应的数字类型；把不合理的类型改成更合理的表示（例如把 `"86"` 改成 `86`）。
:::

:::{admonition} 练习：数字类型表示
:class: important
为无人机飞行任务编写 4 个变量并赋值，要求分别使用 `int`、`float`、`complex`、`bool`：

- 电池电量百分比（整数）
- 飞行高度（带小数）
- 传感器偏差（复数示意）
- 是否解锁（布尔）
  将变量打印输出，检查输出格式是否正确。
  :::

## 1.3.2 任务二：字符串

:::{index} single: 字符串 (str)
:::
:::{index} single: 字符串索引
:::
:::{index} single: 字符串切片
:::

**1.字符串定义**

Python 的**字符串（str）**用来表示文本信息，可以理解为“由一串字符组成的数据”，如无人机编号、任务编号、飞手姓名、告警信息等。字符串的本质是“字符序列”，可以用单引号、双引号、三引号表示。

**例如**

```python
uav_id = 'UAV-07'
mission_id = "MIS-20251221-A03"

# 三引号字符串示例（多行文本）
brief = """检查结论：正常
建议：低电量提前返航
备注：保持图传信号稳定"""
print(brief)
```

上述分别演示了单引号、双引号和三引号定义字符串。

:::{admonition} 【AI辅助小课堂】把飞行简报写成三引号字符串
:class: tip
给 AI 三条简短要求（例如“电量阈值”“返航建议”“安全提示”），要求 AI 输出一个三引号字符串 `brief`，内容为三行，每行一句。将 AI 输出复制到本机运行，观察是否按三行输出。
:::

:::{admonition} 练习：字符串表示方法
:class: important
分别用单引号、双引号、三引号定义以下文本并打印：

- 无人机编号 `UAV-12`
- 飞手姓名
- 三行“起飞提示语”
  :::

**2.字符串的索引**

索引用于从字符串中按位置取出一个字符。字符串的索引从 `0` 开始，`0` 表示第一个字符；也可以使用负索引，`-1` 表示最后一个字符。
可以把字符串理解为一排字符，每个字符都有编号，索引就是用编号取字符，以 `uav_id = "UAV-07"` 为例，其索引如下所示：

```text
字符:    U   A   V   -   0   7
索引:    0   1   2   3   4   5
负索引: -6  -5  -4  -3  -2  -1
```

**例如：**

```python
uav_id = "UAV-07"
print(uav_id[0])   # 'U'
print(uav_id[4])   # '0'
print(uav_id[-1])  # '7'
```

`uav_id[0]`表示取第一个字符，`uav_id[4]`取第五个字符，`uav_id[-1]`表示取最后一个字符。

:::{admonition} 【AI辅助小课堂】索引结果预测
:class: tip
把 `mission_id = "MIS-20251221-A03"` 发给 AI，要求它写出：`mission_id[0]`、`mission_id[3]`、`mission_id[-1]` 的结果，用一句话解释为什么从 0 开始。
:::

:::{admonition} 练习：字符串索引（无人机场景）
:class: important
给定 `uav_id = "UAV-19"`：取出第 1 个字符；取出最后 1 个字符；取出中间的 `-` 字符。将三次结果分别打印输出。
:::

**3.字符串的切片**

切片用于从字符串中取出一段连续的子串，形式为：`s[start:end:step]`。其中 `start` 包含，`end` 不包含，`step` 为步长（省略时为1）。

:::{important}
**切片规则关键点：**
- `start` 包含：起始位置的字符会被取到
- `end` 不包含：结束位置的字符不会被取到
- 为什么这样设计？这样可以方便切片拼接，例如 `s[:3] + s[3:]` 正好等于完整字符串 `s`
:::

切片相当于"从起点开始，取到终点之前"，按步长取字符，得到一段新的字符串。

**例如：**

```python
mission_id = "MIS-20251221-A03"

print(mission_id[0:3])    # 'MIS'
print(mission_id[4:12])   # '20251221'
print(mission_id[-3:])    # 'A03'
```

`mission_id[4:12]`表示取第五个字符到第十二个字符，`mission_id[-3:]`表示取倒数第三个字符到最后一个字符。

:::{admonition} 【AI辅助小课堂】用切片提取任务日期
:class: tip
把 `mission_id` 给 AI，让它给出一行代码，用切片提取其中的日期字符串（例如 `20251221`）。将代码复制到本机运行，检查提取结果。
:::

:::{admonition} 练习：字符串切片
:class: important
给定 `mission_id = "MIS-20251221-A03"`：切出任务前缀 `MIS`；切出日期 `20251221`；切出区域编号 `A03`。将三段结果分别打印输出。
:::

## 1.3.3 任务三：列表

:::{index} single: 列表 (list)
:::
:::{index} single: 列表索引
:::
:::{index} single: 列表切片
:::

**1.列表的定义**

列表（list）用于保存“多个数据组成的一组序列”，例如传感器名称列表、告警码列表、采样高度序列等。
列表用方括号 `[]` 表示，元素之间用逗号分隔。空列表用 `[]`表示；含元素列表如 `[1, 2, 3]`；混合类型列表如 `["GPS", 14, True]`。

**例如：**

```python
sensors = ["GPS", "IMU", "Barometer", "Camera"]
alt_samples = [50.2, 51.0, 52.5, 52.2, 51.8]
```

上述示例定义了一个全是字符串的列表和一个全是数字的列表。

:::{admonition} 【AI辅助小课堂】把无人机设备清单写成列表
:class: tip
给 AI 一段文字版设备清单（例如“GPS、IMU、气压计、相机、图传模块”），要求它输出一个 Python 列表 `devices`。将列表打印输出，检查是否与原清单一致。
:::

:::{admonition} 练习：列表表示方法
:class: important
创建一个列表 `payloads`，保存 4 个无人机载荷名称（例如“相机”“喊话器”“抛投器”“红外”），并打印该列表。
:::

**2.列表的索引**

列表索引用于按位置取元素，规则与字符串一致，从 `0` 开始，也支持负索引。
把列表看成一排格子，每个格子存一个元素，索引用来取出某个格子里的元素，以 `sensors` 为例，如下图所示：

```text
列表:  ["GPS", "IMU", "Barometer", "Camera"]
索引:     0      1        2          3
负索引:  -4     -3       -2         -1
```

**例如：**

```python
sensors = ["GPS", "IMU", "Barometer", "Camera"]
print(sensors[0])   # "GPS"
print(sensors[-1])  # "Camera"
```

上述示例中 `sensors[0]` 取列表第一个元素，`sensors[-1]` 取列表最后一个元素。

:::{admonition} 【AI辅助小课堂】索引查找任务
:class: tip
给 AI 一个列表 `alt_samples`，要求它写出取“第 1 次采样”和“最后 1 次采样”的代码，并说明索引号分别是多少。本机运行验证输出是否正确。
:::

:::{admonition} 练习：列表索引
:class: important
给定 `payloads = ["Camera", "IR", "Speaker", "Dropper"]`：取出第 2 个载荷；取出最后 1 个载荷。将两次结果分别打印输出。
:::

**3.列表的切片**

列表切片用于取列表的一段子列表，形式同样为 `lst[start:end:step]`，得到的是一个新列表。
切片相当于“从列表中取一段连续元素”，例如在无人机应用中用于取最近几次采样、取某一段记录。

**例如：**

```python
alt_samples = [50.2, 51.0, 52.5, 52.2, 51.8]
print(alt_samples[0:3])   # 前3次
print(alt_samples[-3:])   # 最近3次
```

`alt_samples[0:3]`表示取前三个元素，`alt_samples[-3:]`表示取最后三个元素。

:::{admonition} 【AI辅助小课堂】切片提取最近N次采样
:class: tip
给 AI 一个采样列表和一个数字 N（例如 N=3），让它写出“取最近 N 次采样”的切片表达式。将表达式放到本机运行验证。
:::

:::{admonition} 练习：列表切片
:class: important
给定 `speeds = [5.2, 5.6, 6.1, 5.9, 6.3, 6.0]`（单位 m/s）：取出前 3 个速度；取出最后 2 个速度。将两段切片结果分别打印输出。
:::

## 1.3.4 任务四：元组

:::{index} single: 元组 (tuple)
:::
:::{index} single: 不可变类型
:::

元组（tuple）也是序列类型，用于保存一组数据，表示方法为圆括号 `()`。空元组用 `()`表示，含元素元组如 `(28.2280, 112.9388)`，单元素元组如 `(10,)`（必须带逗号）。
元组创建后**不可修改**，适合保存"固定的一条记录"，比如返航点坐标（纬度、经度）、相机分辨率（宽、高）等。

**例如：**

```python
home_point = (28.2280, 112.9388)
print(home_point[0])  # 取纬度
print(home_point[1])  # 取经度
```

这里用元组来表示经纬度，索引方法同字符串与列表。

**元组的不可变性演示：**

```python
home_point = (28.2280, 112.9388)
# 尝试修改元组元素会报错：
# home_point[0] = 30.0  # TypeError: 'tuple' object does not support item assignment

# 但可以重新赋值整个元组：
home_point = (30.0, 114.0)  # 这是合法的，相当于创建了一个新元组
print(home_point)  # (30.0, 114.0)
```

:::{important}
**元组与列表的关键区别：**
- 元组创建后**不能修改元素**（不能增删改某个元素），列表可以
- 元组用 `()`，列表用 `[]`
- 除了不可修改以外，元组的索引、切片等操作与列表一致
- 使用场景：需要"固定不变的记录"时用元组，需要"动态增删改"时用列表
:::

:::{admonition} 【AI辅助小课堂】把固定参数改成元组
:class: tip
给 AI 一组“固定不改”的参数（例如返航点坐标、相机分辨率），让它分别用元组表示，并给出索引取值的示例代码。本机运行观察输出。
:::

## 1.3.5 任务五：字典

:::{index} single: 字典 (dict)
:::
:::{index} single: 键值对
:::

**1.字典定义**

Python **字典（dict）**是一种用来保存“键—值（key-value）”对应关系的数据类，例如用来保存无人机的“状态参数表”。
字典用花括号 `{}` 表示，格式为 `{"键": 值, ...}`，键通常使用字符串，值可以是任意类型。空字典用 `{}`表示、含键值对的字典 `{"battery_percent": 86, "is_armed": True}`。

**例如：**

```python
status = {
    "uav_id": "UAV-07",
    "battery_percent": 86,
    "altitude_m": 52.5,
    "is_armed": True
}
print(status)
```

这里使用字典存储无人机的的id、电池百分比、高度、是否解锁。

:::{admonition} 【AI辅助小课堂】从表格描述生成字典
:class: tip
把一行“无人机状态表”文字（例如“电量86，高度52.5，是否解锁True”）发给 AI，要求它输出一个字典 `status`，键名使用英文 snake_case。复制到本机运行并打印字典。
:::

:::{admonition} 练习：字典表示方法
:class: important
创建一个字典 `flight_info`，至少包含以下键：`uav_id`、`pilot`、`battery_percent`、`gps_satellites`。为每个键赋一个合理值，并打印该字典。
:::

**2.字典的取值**

字典取值通过键完成，形式为 `d[key]`，给定键存在时可以取出对应的值。字典像“标签—内容”的对照表，用标签（键）去找内容（值），与列表按位置取值不同，字典按“名字”取值。

```python
status = {
  "battery_percent": 86,
  "altitude_m": 52.5,
  "is_armed": True
}

print("battery_percent",status["battery_percent"])
print("is_armed",status["is_armed"])
```

运行输出：

```
battery_percent 86
is_armed True
```

:::{admonition} 【AI辅助小课堂】用键取值生成简报行
:class: tip
把一个字典 `flight_info` 发给 AI，要求它只用 `字典取值 d["key"]` 的方式拼出一句简报并打印。将 AI 输出复制到本机运行验证。
:::

:::{admonition} 练习：字典取值
:class: important
给定：

```python
flight_info = {
    "uav_id": "UAV-19",
    "battery_percent": 72,
    "gps_satellites": 12
}
```

分别取出并打印 `uav_id`、`battery_percent`、`gps_satellites` 的值。
:::

## 1.3.6 任务六：集合

:::{index} single: 集合 (set)
:::
:::{index} single: 去重
:::

集合（set）用于保存一组**不重复**的元素，常用于去重，例如对无人机告警码去重、对传感器编号去重等。
集合用花括号 `{}` 或 `set()` 创建，空集合必须写成 `set()`，因为 `{}` 表示空字典。
集合的一个重要特性是**自动去重**，当把一个列表转成集合时，重复元素会被合并为一个。

**例如：**

```python
alarm_codes = ["LOW_BAT", "GPS_WEAK", "LOW_BAT", "IMU_WARN"]
unique_alarms = set(alarm_codes)

print(alarm_codes)
print(unique_alarms)
```

这段代码的输出是：

```python
['LOW_BAT', 'GPS_WEAK', 'LOW_BAT', 'IMU_WARN']
{'LOW_BAT', 'GPS_WEAK', 'IMU_WARN'}
```

- 第一行打印的是**原始列表**，包含重复的 `"LOW_BAT"`
- 第二行打印的是**集合**，自动去除了重复元素，所以每个告警码只保留一次（集合的显示顺序可能不同，属于正常现象）

:::{admonition} 【AI辅助小课堂】去重前后对比
:class: tip
给 AI 一组包含重复项的告警码列表，要求它输出两行代码：原列表打印；转集合后打印。本机运行观察“去重结果”是否符合预期。
:::

:::{admonition} 练习：集合与去重
:class: important
给定告警列表：

```python
alarms = ["LOW_BAT", "LOW_BAT", "RC_LOST", "GPS_WEAK", "RC_LOST"]
```

把它转换为集合并打印，说明打印结果中为什么没有重复项。
:::

## 本项目小结

本项目以“无人机飞行数据工具包”为载体，完成了对常用数据类型的系统认识与规范使用：用 `int/float/complex/bool` 表示飞行相关数值与状态，用字符串保存无人机编号与任务编号，并能通过索引与切片提取关键信息；用列表组织传感器清单与高度采样序列，并能用索引、切片获得局部数据；用元组保存返航点坐标等固定记录；用字典把多项飞行参数汇总为“键—值”结构并实现按键取值；用集合对告警码去重得到唯一告警集合。通过本项目，读者已具备为无人机任务数据选择合适类型、进行基本取值与整理输出的能力，为后续学习输入输出、分支判断与循环处理飞行数据打下基础。

---

# 1.4 项目四：综合实践项目——无人机"任务简报生成器"

## 项目简介

本项目通过编写一个脚本，把一次无人机任务的关键信息组织成结构化数据，并输出一份排版清晰的任务简报，将前面学到的变量、数据类型、容器、索引与切片、字典取值、集合去重、换行与注释等要点放在同一段完整代码中实践，形成从“数据准备”到“规范输出”的闭环。

## 需求分析

无人机一次外场任务通常包含：任务编号、无人机编号、飞手、返航点坐标、若干传感器、若干采样数据、告警记录等。实践要求在 90 分钟内完成一个脚本 `uav_mission_brief.py`，实现“数据建模 + 信息提取 + 简报输出”三件事。

脚本需要完成以下功能：

1. **数据准备（变量与赋值）**定义并赋值以下数据（允许自定义内容，但结构必须具备）：

   - 任务编号 `mission_id`（字符串，格式示例：`"MIS-20251221-A03"`）
   - 无人机编号 `uav_id`（字符串，格式示例：`"UAV-07"`）
   - 飞手姓名 `pilot`（字符串）
   - 电池电量 `battery_percent`（整型）
   - 当前高度 `altitude_m`（浮点型）
   - 是否解锁 `is_armed`（布尔型）
   - 返航点 `home_point`（元组，形如 `(lat, lon)`）
   - 传感器清单 `sensors`（列表，至少 4 个字符串）
   - 高度采样 `alt_samples`（列表，至少 5 个浮点数）
   - 告警列表 `alarms`（列表，允许重复项）
2. **信息提取（字符串/列表索引与切片）**从 `mission_id` 提取并打印：

   - 任务前缀（例如 `MIS`）
   - 日期片段（例如 `20251221`）
   - 区域编号（例如 `A03`）
     另外，从 `sensors` 取出第 1 个传感器，从 `alt_samples` 切出最近 3 次采样。
3. **结构化组织（字典与取值）**创建一个字典 `mission`，把上述信息汇总（键用 snake_case）：`"mission_id"`、`"uav_id"`、`"pilot"`、`"battery_percent"`、`"altitude_m"`、`"is_armed"`、`"home_point"`、`"sensors"`、`"alt_samples"`、`"alarms"`然后用字典取值方式（如 `mission["battery_percent"]`）打印关键字段，体现“按键取值”。
4. **告警去重（集合）**把 `alarms` 转成集合 `unique_alarms`，输出“原始告警列表”和“去重后的告警集合”。
5. **输出排版（换行 + 注释 + 缩进规范）**

   - 简报至少包含 4 个部分标题（例如：基本信息/任务解析/采样摘要/告警摘要）。
   - 使用 **括号 `()`** 组织一段较长的“安全提示语”并换行输出；再用一次 **反斜杠 `\`** 实现换行输出（对比两种写法）。
   - 代码必须包含单行注释与文件头部三引号说明（多行注释/文档字符串）。
   - 代码缩进统一 4 空格，不混用 Tab。

## 交付物

- 文件：`uav_mission_brief.py`
- 运行截图或运行输出文本
- 关键检查点（输出中必须能看到）：
  （1）任务编号解析出的三个片段
  （2）最近 3 次高度采样
  （3）字典取值打印的电池与返航点
  （4）告警集合去重结果
  （5）一段括号换行提示语 + 一段反斜杠换行提示语。

## 评价标准

| 项目       | 合格要求                                        |
| ---------- | ----------------------------------------------- |
| 数据类型   | 数字/字符串/列表/元组/字典/集合均出现且使用正确 |
| 索引与切片 | 字符串与列表至少各完成 1 次索引与 1 次切片      |
| 字典取值   | 使用 `mission["key"]` 形式取值并输出          |
| 集合去重   | 输出去重前后对比结果                            |
| 代码风格   | 注释齐全、缩进正确、长文本换行清晰              |

---
